<UserControl x:Class="DuckDBGeoparquet.Views.Ng911DockpaneView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:extensions="clr-namespace:ArcGIS.Desktop.Extensions;assembly=ArcGIS.Desktop.Extensions"
             xmlns:ui="clr-namespace:ArcGIS.Desktop.Framework.Controls;assembly=ArcGIS.Desktop.Framework"
             xmlns:local="clr-namespace:DuckDBGeoparquet.Views"
             mc:Ignorable="d" 
             d:DesignHeight="600" d:DesignWidth="400"
             d:DataContext="{d:DesignInstance local:Ng911DockpaneViewModel, IsDesignTimeCreatable=True}">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <extensions:DesignOnlyResourceDictionary Source="pack://application:,,,/ArcGIS.Desktop.Framework;component\Themes\Default.xaml"/>
            </ResourceDictionary.MergedDictionaries>
            <BitmapImage x:Key="OvertureIcon" UriSource="../Images/Overture16.png" />
            <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0" Margin="16,12,16,0">
            <TextBlock Text="NG911 Prepopulation" Style="{DynamicResource Esri_TextBlockH2}" Foreground="{DynamicResource Esri_TextCaptionActiveBrush}"/>
            <TextBlock Text="Map Overture data to NENA-STA-006.x targets" Style="{DynamicResource Esri_TextBlockSmall}" Foreground="{DynamicResource Esri_TextStyleSubduedBrush}"/>
        </StackPanel>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="16,12,16,12" Orientation="Vertical">
                <TextBlock Text="1. Select NG911 Targets" Margin="0,0,0,4"/>
                <Border BorderBrush="{DynamicResource Esri_BorderBrush}" BorderThickness="1" CornerRadius="2" Padding="8" Margin="0,0,0,12">
                    <StackPanel>
                        <CheckBox Content="SiteStructureAddressPoint" IsChecked="{Binding IsTargetAddressPoints}" Margin="0,2,0,2"/>
                        <CheckBox Content="RoadCenterline" IsChecked="{Binding IsTargetRoadCenterlines}" Margin="0,2,0,2"/>
                        <TextBlock Text="Uses the currently loaded Overture data in memory (from the Overture wizard)." Style="{DynamicResource Esri_TextBlockSmall}" Foreground="{DynamicResource Esri_TextStyleSubduedBrush}" Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>

                <TextBlock Text="2. Output Folder" Margin="0,0,0,4"/>
                <Border BorderBrush="{DynamicResource Esri_BorderBrush}" BorderThickness="1" CornerRadius="2" Padding="8" Margin="0,0,0,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBlock Grid.Column="0" Text="NG911 Output:" VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBox Grid.Column="1" Text="{Binding OutputFolder}" VerticalAlignment="Center" IsReadOnly="True" Margin="0,0,4,0" Style="{DynamicResource Esri_TextBox}"/>
                        <Button Grid.Column="2" Content="Browse..." Command="{Binding BrowseOutputFolderCommand}" Width="80" Style="{DynamicResource Esri_Button}"/>
                    </Grid>
                </Border>

                <TextBlock Text="3. Run Mapping" Margin="0,0,0,4"/>
                <Border BorderBrush="{DynamicResource Esri_BorderBrush}" BorderThickness="1" CornerRadius="2" Padding="8" Margin="0,0,0,12">
                    <StackPanel>
                        <Button Content="Run NG911 Mapping" Command="{Binding RunMappingCommand}" Style="{DynamicResource Esri_ButtonBlue}" Width="170"/>
                        <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                            <ProgressBar Value="{Binding ProgressValue}" Height="18" Width="180" Style="{DynamicResource Esri_ProgressBar}"/>
                            <TextBlock Text="{Binding StatusText}" Margin="8,0,0,0" VerticalAlignment="Center"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <TextBlock Text="Log" Margin="0,0,0,4"/>
                <Border Background="{DynamicResource Esri_DialogClientAreaBackgroundBrush}" BorderBrush="{DynamicResource Esri_BorderBrush}" BorderThickness="1" CornerRadius="2" Padding="8">
                    <TextBox x:Name="LogTextBox" Height="240" IsReadOnly="True" Text="{Binding LogOutputText, Mode=OneWay}" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto" Margin="0,0,0,0" FontFamily="Consolas" Background="{DynamicResource Esri_DialogClientAreaBackgroundBrush}" Foreground="{DynamicResource Esri_TextControlBrush}" Style="{DynamicResource Esri_TextBoxMedium}" TextChanged="LogTextBox_TextChanged"/>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>


