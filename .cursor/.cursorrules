# ArcGIS Pro Add-in Development Rules

## Target Platform
- **ArcGIS Pro Version**: 3.5.0.57366
- **Target Framework**: .NET 8.0
- **Supported Platforms**: Windows 11, Windows 10 (64-bit)
- **IDE Requirements**: Visual Studio 2022 (v17.8 or higher)

## Key Dependencies
- **Microsoft .NET Runtime**: 8.0.0 or better
- **ArcGIS Pro Extensions**: Use latest Pro SDK packages
- **Newtonsoft Json**: Version 13.0.3.27908 (matches ArcGIS Pro 3.5)
- **WebView2**: Runtime version 117 or later (if using WebViewBrowser control)

## NuGet Package Versions
Always use .NET 8.0 compatible versions:
- `Microsoft.Extensions.Logging`: 8.0.0 
- `Microsoft.Extensions.Logging.Abstractions`: 8.0.0
- `Microsoft.AspNetCore.App`: Use FrameworkReference (not PackageReference)

‚ùå **NEVER** downgrade to .NET 6.0 packages when targeting .NET 8.0

## Project Settings
- **Target Framework**: `net8.0-windows`
- **Platform Target**: x64
- **Runtime Identifier**: win-x64
- **Use WPF**: true
- **Copy Local Lock File Assemblies**: true

## Code Patterns
- Use **async/await** for all ArcGIS Pro API calls
- Implement **MVVM** pattern for UI components
- Leverage **Task Asynchronous Programming (TAP)**
- Use **LINQ** for data operations
- Follow **WPF Binding** patterns

## Assembly References
Core assemblies (in {ArcGIS Pro Installation}/bin):
- `ArcGIS.Core.dll` - CIM, Geodatabase, Geometry, Utility Network APIs
- `ArcGIS.Desktop.Framework.dll` - **REQUIRED** for all add-ins
- `ArcGIS.CoreHost.dll` - For standalone applications

Extension assemblies (in {ArcGIS Pro Installation}/bin/Extensions):
- `ArcGIS.Desktop.Mapping.dll` - Maps, layers, symbology
- `ArcGIS.Desktop.Editing.dll` - Editing functionality
- `ArcGIS.Desktop.Layouts.dll` - Layout manipulation
- `ArcGIS.Desktop.Core.dll` - Project management, geoprocessing
- `ArcGIS.Desktop.Catalog.dll` - Project content items

## Documentation Links
- **Main SDK Documentation**: https://pro.arcgis.com/en/pro-app/latest/sdk/
- **API Reference Guide**: https://pro.arcgis.com/en/pro-app/latest/sdk/api-reference/topic1.html
- **Community Samples**: https://github.com/esri/arcgis-pro-sdk-community-samples
- **SDK Wiki**: https://github.com/esri/arcgis-pro-sdk/wiki
- **What's New in 3.5**: https://pro.arcgis.com/en/pro-app/latest/sdk/api-reference/topic15120.html

## DAML (Desktop Application Markup Language)
- Use XML markup to describe UI customizations
- Reference DAML ID documentation for proper element IDs
- Follow add-in patterns: buttons, tools, dockpanes, etc.

## Best Practices
- Always reference the exact ArcGIS Pro version being targeted
- Use `QueuedTask.Run()` for operations that must execute on MCT
- Handle UI operations on the UI thread using `FrameworkApplication.Current.Dispatcher`
- Implement proper error handling and logging
- Follow async patterns throughout the application

## Version Management
- Keep add-in `desktopVersion` attribute current with Pro installation
- Use semantic versioning for add-in releases
- Test compatibility when upgrading ArcGIS Pro versions 